webpackJsonp([1],{0:function(t,e){},G77m:function(t,e){},"H/op":function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("7+uW"),s={name:"login-cont",data:function(){return{show:!1,email:null,pass:null}},computed:{login:function(){return this.$store.state.private_key}},methods:{get_login:function(){var t=this,e={method_name:"client_get",m:2,email:this.email,pass:this.pass};this.$store.dispatch("api",e).then(function(e){if(console.log(e),!e.response)return alert("Такого пользователя нет"),!1;var a=e.response[0].private_key;t.$store.commit("set",["private_key",a]),localStorage.setItem("private_key",a)},function(e){alert(e),localStorage.removeItem("private_key"),t.$store.commit("set",["private_key",null])})},logout:function(){localStorage.removeItem("private_key"),this.$store.commit("set",["private_key",null]),this.$router.push("/")}}},i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"login-cont"},[a("div",{class:t.show?"form-cont show":"form-cont"},[a("transition",{attrs:{duration:"300",mode:"out-in","enter-active-class":"animated fadeIn","leave-active-class":"animated zoomOut"}},[t.login?a("div",{key:"two"},[a("router-link",{attrs:{to:"/add"}},[a("i",{staticClass:"material-icons"},[t._v("exposure_plus_1")])]),t._v(" "),a("button",{staticClass:"mt-10",on:{click:t.logout}},[t._v("Logout")])],1):a("div",{key:"one"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],attrs:{type:"text",placeholder:"Email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.pass,expression:"pass"}],attrs:{type:"password",placeholder:"Password"},domProps:{value:t.pass},on:{input:function(e){e.target.composing||(t.pass=e.target.value)}}}),t._v(" "),a("button",{on:{click:t.get_login}},[t._v("Login")])])])],1),t._v(" "),a("a",{staticClass:"tymbler",attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.show=!t.show}}},[a("i",{staticClass:"material-icons",domProps:{textContent:t._s(t.show?"keyboard_arrow_up":"keyboard_arrow_down")}})])])},staticRenderFns:[]};var r={name:"App",components:{loginCont:a("VU/8")(s,i,!1,function(t){a("Zn/V")},"data-v-68eefe5e",null).exports}},o={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("loginCont"),this._v(" "),e("transition",{attrs:{mode:"out-in",duration:"300","leave-active-class":"animated fadeOut","enter-active-class":"animated fadeIn"}},[e("router-view")],1)],1)},staticRenderFns:[]};var c=a("VU/8")(r,o,!1,function(t){a("Tc0O")},null,null).exports,l=a("/ocq"),u=a("//Fk"),d=a.n(u),p=a("Dd8w"),h=a.n(p),v=a("NYxO");n.a.use(v.a);var _=new v.a.Store({state:{private_key:localStorage.getItem("private_key")?localStorage.getItem("private_key"):null,search:null},mutations:{set:function(t,e){t[e[0]]=e[1]}},actions:{api:function(t,e){var a=h()({},e,{public_key:"fd0defd4701f2d1e18a9a311a0f2339035f0ba6439eee009ec947000adbcf67a"});return new d.a(function(t,e){n.a.http.post("https://vue-feed-api.makenow.com.ua/api/",a).then(function(a){a.body||e("Ошибка: пустой ответ от сервера"),a.body.error&&e(a.body.error),t(a.body)},function(t){e("Ошибка: нет ответа от сервера")})})}},getters:{}}),m={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"search-cont"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.search_str,expression:"search_str"}],attrs:{type:"text",placeholder:"search"},domProps:{value:t.search_str},on:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.set_search(e):null},input:function(e){e.target.composing||(t.search_str=e.target.value)}}}),t._v(" "),a("button",{on:{click:t.set_search}},[a("i",{staticClass:"material-icons"},[t._v("search")])])])},staticRenderFns:[]};var f={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.stack?a("ul",[t.stack.first?a("li",[a("router-link",{attrs:{to:t.url+"?page=1"}},[a("i",{staticClass:"material-icons"},[t._v("skip_previous")])])],1):t._e(),t._v(" "),t.stack.prev?a("li",[a("router-link",{attrs:{to:t.url+"?page="+t.stack.prev}},[a("i",{staticClass:"material-icons",staticStyle:{transform:"rotate(-180deg)"}},[t._v("play_arrow")])])],1):t._e(),t._v(" "),t._l(t.stack.left,function(e){return a("li",[a("router-link",{attrs:{to:t.url+"?page="+e}},[t._v(t._s(e))])],1)}),t._v(" "),a("li",[a("span",[t._v(t._s(t.stack.center))])]),t._v(" "),t._l(t.stack.right,function(e){return a("li",[a("router-link",{attrs:{to:t.url+"?page="+e}},[t._v(t._s(e))])],1)}),t._v(" "),t.stack.next?a("li",[a("router-link",{attrs:{to:t.url+"?page="+t.stack.next}},[a("i",{staticClass:"material-icons"},[t._v("play_arrow")])])],1):t._e(),t._v(" "),t.stack.last!=t.stack.center?a("li",[a("router-link",{attrs:{to:t.url+"?page="+t.stack.last}},[a("i",{staticClass:"material-icons"},[t._v("skip_next")])])],1):t._e()],2):t._e()},staticRenderFns:[]};var k={name:"home",components:{searchCont:a("VU/8")({name:"search-cont",data:function(){return{search_str:null}},computed:{search:{get:function(){return this.$store.state.search},set:function(t){this.$store.commit("set",["search",t])}}},methods:{set_search:function(){this.search=this.search_str}},created:function(){this.search_str=this.search}},m,!1,function(t){a("Yuab")},"data-v-10cac5b0",null).exports,pagination:a("VU/8")({name:"pagination",props:["stack","url"],computed:{page:function(){return this.$route.query.page}}},f,!1,function(t){a("G77m")},"data-v-08aadb2b",null).exports},data:function(){return{notes:null,stack:null}},computed:{search:function(){return this.$store.state.search},auth:function(){return this.$store.state.private_key},page:function(){return this.$route.query.page}},watch:{search:"get_notes",auth:"get_notes",page:"get_notes"},methods:{get_notes:function(){var t=this,e={method_name:"feed_get",m:2,limit:2,page:this.$route.query.page,private_key:this.$store.state.private_key,search:this.search};this.$store.dispatch("api",e).then(function(e){e.response?(t.notes=e.response.items,t.stack=e.response.stack):(t.notes=null,t.stack=null)},function(t){alert(t)})},set_tymbler:function(t){var e=!this.notes[t].tymbler;this.$set(this.notes[t],"tymbler",e)},delete_note:function(t){var e=this;if(!confirm("Удалить?"))return!1;var a={method_name:"feed_delete",private_key:this.auth,id:this.notes[t].id};this.$store.dispatch("api",a).then(function(a){a.response&&e.notes.splice(t,1)},function(t){alert(t)})},set_up:function(t){var e=this;if(!confirm("Поднять?"))return!1;var a={method_name:"feed_up",private_key:this.auth,id:this.notes[t].id};this.$store.dispatch("api",a).then(function(t){t.response&&e.get_notes()},function(t){alert(t)})}},created:function(){this.get_notes()}},g={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticStyle:{height:"100px"}}),t._v(" "),a("searchCont"),t._v(" "),a("div",{staticStyle:{height:"100px"}}),t._v(" "),t.notes?a("ul",{staticClass:"notes"},t._l(t.notes,function(e,n){return a("li",[a("router-link",{staticClass:"title",attrs:{to:"/"+e.id}},[t._v("\n        "+t._s(e.title?e.title:"***")+"\n        "),e.protected?a("sup",[a("i",{staticClass:"material-icons",staticStyle:{"font-size":"18px"}},[t._v("https")])]):t._e()]),t._v(" "),a("div",{class:e.tymbler?"item-cont":"item-cont closed",domProps:{innerHTML:t._s(e.text)}}),t._v(" "),a("div",{class:e.tymbler?"tymbler active":"tymbler",on:{click:function(e){t.set_tymbler(n)}}},[a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg"}},[a("line",{attrs:{x1:"0",y1:"0",x2:"50%",y2:"28"}}),t._v(" "),a("line",{attrs:{x1:"50%",y1:"28",x2:"100%",y2:"0"}})])]),t._v(" "),t.auth?a("div",{staticClass:"adm-buttons mt-15"},[a("router-link",{attrs:{to:"/edit/"+e.id}},[a("i",{staticClass:"material-icons"},[t._v("mode_edit")])]),t._v(" "),a("a",{attrs:{href:""},on:{click:function(e){e.preventDefault(),t.delete_note(n)}}},[a("i",{staticClass:"material-icons"},[t._v("delete")])]),t._v(" "),a("a",{attrs:{href:""},on:{click:function(e){e.preventDefault(),t.set_up(n)}}},[a("i",{staticClass:"material-icons"},[t._v("flight")])])],1):t._e()],1)})):t._e(),t._v(" "),a("div",{staticStyle:{height:"100px"}}),t._v(" "),t.stack?a("div",{staticStyle:{"text-align":"center"}},[a("pagination",{attrs:{stack:t.stack,url:"/"}})],1):t._e()],1)},staticRenderFns:[]};var y=a("VU/8")(k,g,!1,function(t){a("NSXr")},"data-v-ce6f1e5c",null).exports,b=a("bOdI"),x=a.n(b),$={name:"switches",props:{typeBold:{default:!1},value:{default:!1},disabled:{default:!1},label:{default:""},textEnabled:{default:""},textDisabled:{default:""},color:{default:"default"},theme:{default:"default"},emitOnMount:{default:!0}},mounted:function(){this.emitOnMount&&this.$emit("input",this.value)},methods:{trigger:function(t){this.$emit("input",t.target.checked)}},computed:{classObject:function(){var t,e=this.color,a=this.value,n=this.theme,s=this.typeBold,i=this.disabled;return t={"vue-switcher":!0},x()(t,"vue-switcher--unchecked",!a),x()(t,"vue-switcher--disabled",i),x()(t,"vue-switcher--bold",s),x()(t,"vue-switcher--bold--unchecked",s&&!a),x()(t,"vue-switcher-theme--"+n,e),x()(t,"vue-switcher-color--"+e,e),t},shouldShowLabel:function(){return""!==this.label||""!==this.textEnabled||""!==this.textDisabled}}},w={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{class:t.classObject},[t.shouldShowLabel?a("span",{staticClass:"vue-switcher__label"},[t.label?a("span",{domProps:{textContent:t._s(t.label)}}):t._e(),t._v(" "),!t.label&&t.value?a("span",{domProps:{textContent:t._s(t.textEnabled)}}):t._e(),t._v(" "),t.label||t.value?t._e():a("span",{domProps:{textContent:t._s(t.textDisabled)}})]):t._e(),t._v(" "),a("input",{attrs:{type:"checkbox",disabled:t.disabled},domProps:{checked:t.value},on:{change:t.trigger}}),t._v(" "),a("div")])},staticRenderFns:[]};var C={name:"add_edit_note",components:{Switches:a("VU/8")($,w,!1,function(t){a("e5ON")},null,null).exports},data:function(){return{protected:!1,text:"",title:""}},methods:{send_form:function(){this.$route.params.id?this.edit():this.add()},add:function(){var t=this,e={method_name:"feed_add",private_key:this.$store.state.private_key,title:this.title,text:this.text,protected:this.protected};this.$store.dispatch("api",e).then(function(e){e.response.id&&t.$router.push("/")},function(t){alert(t)})},edit:function(){var t=this,e={method_name:"feed_edit",private_key:this.$store.state.private_key,title:this.title,text:this.text,id:this.$route.params.id,protected:this.protected};this.$store.dispatch("api",e).then(function(e){t.$router.go(-1)},function(t){alert(t)})},get_item:function(t){var e=this,a={method_name:"feed_get",m:1,id:t,private_key:this.$store.state.private_key};this.$store.dispatch("api",a).then(function(t){if(!t.response)return alert("Ошибка: пустой ответ от сервера"),!1;e.title=t.response.title,e.text=t.response.text,e.protected=t.response.protected,console.log(t)},function(t){alert(t)})}},created:function(){this.$route.params.id&&this.get_item(this.$route.params.id)}},S={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticStyle:{height:"100px"}}),t._v(" "),a("a",{staticClass:"return-link",attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.$router.back()}}},[a("i",{staticClass:"material-icons"},[t._v("reply")]),t._v(" Вернуться")]),t._v(" "),a("br"),a("br"),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],attrs:{type:"text",placeholder:"title"},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}}),t._v(" "),a("br"),t._v(" "),a("br"),t._v(" "),a("switches",{attrs:{"type-bold":"true",color:t.protected?"red":"green"},model:{value:t.protected,callback:function(e){t.protected=e},expression:"protected"}}),t._v(" "),a("br"),a("br"),t._v(" "),a("vue-ckeditor",{model:{value:t.text,callback:function(e){t.text=e},expression:"text"}}),t._v(" "),a("br"),a("br"),t._v(" "),a("div",{staticStyle:{"text-align":"right"}},[a("button",{domProps:{textContent:t._s(t.$route.params.id?"Редактировать":"Добавить")},on:{click:t.send_form}})]),t._v(" "),a("div",{staticStyle:{height:"100px"}})],1)},staticRenderFns:[]};var E=a("VU/8")(C,S,!1,function(t){a("VuHm")},"data-v-290b9dc2",null).exports,P={name:"note",data:function(){return{note:null}},computed:{auth:function(){return this.$store.state.private_key}},watch:{auth:"get_note"},methods:{get_note:function(){var t=this,e={method_name:"feed_get",m:1,id:this.$route.params.id,private_key:this.$store.state.private_key};this.$store.dispatch("api",e).then(function(e){e.response?t.note=e.response:t.note=null},function(t){alert(t)})},delete_note:function(){var t=this;if(!confirm("Удалить?"))return!1;var e={method_name:"feed_delete",private_key:this.auth,id:this.note.id};this.$store.dispatch("api",e).then(function(e){e.response&&t.$router.go(-1)},function(t){alert(t)})},set_up:function(){if(!confirm("Поднять?"))return!1;var t={method_name:"feed_up",private_key:this.auth,id:this.note.id};this.$store.dispatch("api",t).then(function(t){t.response&&alert("Всё ок")},function(t){alert(t)})}},created:function(){this.get_note()}},O={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticStyle:{height:"100px"}}),t._v(" "),a("a",{staticClass:"return-link",attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.$router.back()}}},[a("i",{staticClass:"material-icons"},[t._v("reply")]),t._v(" Вернуться")]),t._v(" "),a("div",{staticStyle:{height:"100px"}}),t._v(" "),t.note?a("div",[a("div",{staticClass:"title"},[t._v("\n      "+t._s(t.note.title?t.note.title:"***")+"\n      "),t.note.protected?a("sup",[a("i",{staticClass:"material-icons",staticStyle:{"font-size":"18px"}},[t._v("https")])]):t._e()]),t._v(" "),a("div",{staticClass:"text",domProps:{innerHTML:t._s(t.note.text)}}),t._v(" "),t.auth?a("div",{staticClass:"adm-buttons mt-55"},[a("router-link",{attrs:{to:"/edit/"+t.note.id}},[a("i",{staticClass:"material-icons"},[t._v("mode_edit")])]),t._v(" "),a("a",{attrs:{href:""},on:{click:function(e){return e.preventDefault(),t.delete_note(e)}}},[a("i",{staticClass:"material-icons"},[t._v("delete")])]),t._v(" "),a("a",{attrs:{href:""},on:{click:function(e){return e.preventDefault(),t.set_up(e)}}},[a("i",{staticClass:"material-icons"},[t._v("flight")])])],1):t._e()]):t._e()])},staticRenderFns:[]};var V=a("VU/8")(P,O,!1,function(t){a("ZHLx")},"data-v-26dbb8b7",null).exports;n.a.use(l.a);var D=new l.a({mode:"history",routes:[{path:"/",name:"home",component:y},{path:"/add",component:E,meta:{admin:!0}},{path:"/edit/:id",component:E,meta:{admin:!0}},{path:"/:id",component:V},{path:"/*",component:y}]});D.beforeEach(function(t,e,a){t.matched.some(function(t){return t.meta.admin})?_.state.private_key?a():a({path:"/"}):a()});var N=D,H=a("8+8L"),F=a("WIv/");a("H/op");n.a.config.productionTip=!1,n.a.use(H.a),n.a.use(F.a),new n.a({el:"#app",router:N,store:_,components:{App:c},template:"<App/>"})},NSXr:function(t,e){},Tc0O:function(t,e){},VuHm:function(t,e){},Yuab:function(t,e){},ZHLx:function(t,e){},"Zn/V":function(t,e){},e5ON:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.003cbd260ae68bcd631c.js.map